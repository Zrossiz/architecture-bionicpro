OLAP бд предлагаю использовать clickhouse
Описание ETL процесса.
Данные приходят от устройства пилота, обогащаются перед сохранением из crm (я не знаю чем они там должны обогащаться)
По запросу от пользователя мы берем его user_id из jwt и по этому user_id генерируем отчет. Благодаря этому мы исключим возможность того, что пользователь может просматривать/генерировать отчеты другого пользователя

Для etl процесса предлагаю использовать rabbitmq/bullmq. По крон задаче отправлять сообщение. Как только сервис получает сообщение - он начинает работу по сбору данных и сохранению в бд. Таблицу в бд предпочтительнее сделать более широкую. Такой вариант нам подойдет, потому что мы используем колоночную бд, а строчную (классический вариант oltp - postgres). Для упрощения этого проекта - сделаю все в одном сервисе.

